# Data Model: RAG Chatbot

This document outlines the key entities and their relationships for the RAG Chatbot system.

## Entities

### 1. Document
Represents a piece of textual information that can be indexed and retrieved for answering user queries. These documents will be stored as vectors in Qdrant Cloud.

*   **id** (string, unique): A unique identifier for the document.
*   **content** (string): The full textual content of the document.
*   **metadata** (JSON object, optional): Additional key-value pairs associated with the document, such as `source`, `title`, `author`, `url`, etc. This metadata can be used for filtering during retrieval.
*   **embedding** (array of floats): The vector representation of the `content`, generated by an embedding model.

### 2. Query
Represents a user's input question or prompt to the chatbot.

*   **text** (string): The actual text of the user's question.
*   **session_id** (string, optional): An identifier for the current conversation session, used to maintain context.

### 3. Response
Represents the chatbot's generated answer to a user's query.

*   **answer** (string): The natural language answer generated by the AI conversational agent (ChatKit).
*   **source_documents** (array of objects): A list of references to the `Document` entities that were used by the RAG process to formulate the `answer`. Each object might contain:
    *   `id` (string): The ID of the source document.
    *   `content_snippet` (string): A relevant snippet from the source document that contributed to the answer.
    *   `metadata` (JSON object): Relevant metadata from the source document.

### 4. Conversation
Represents a complete dialogue history between a user and the chatbot.

*   **id** (string, unique): A unique identifier for the conversation.
*   **user_id** (string, optional): An identifier for the end-user, if user authentication is implemented.
*   **messages** (array of objects): An ordered list of message exchanges.
    *   Each message object contains:
        *   `role` (string): Either `user` or `assistant`.
        *   `content` (string): The text of the message.
        *   `timestamp` (datetime): The time the message was sent.
